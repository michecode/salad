// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url      = env("DATABASE_URL")
}

model Product {
  id                String      @id @default(cuid())
  title             String
  description       String
  altDescription    String
  museum            String
  museumBio         String
  museumLocation    String
  price             Float
  rawImageUrl       String
  fullImageUrl      String
  imageUrl          String
  smallImageUrl     String
  smallS3ImageUrl   String
  thumbnailUrl      String
  artistName        String
  blurHash          String
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  orderItems    OrderItem[]
}

model Order {
  id          String       @id @default(cuid())
  orderDate   DateTime  @default(now())
  totalAmount Float
  recipient   String
  address     String
  items       OrderItem[]
}

model OrderItem {
  id        String      @id @default(cuid())
  orderId   String      @unique
  productId String      @unique
  quantity  Int
  price     Float
  order     Order    @relation(fields: [orderId], references: [id])
  product   Product  @relation(fields: [productId], references: [id])
}
